{{define "head"}}
<meta name="description" content="Discover Axis devices on your network" />
{{end}} {{define "content"}}
<div class="ui container">
  <div class="ui vertical stripe segment">
    <h2 class="ui header">Discovered Devices</h2>

    <div class="ui clearing segment">
      <button id="refresh-devices" class="ui right floated primary button">
        <i class="sync icon"></i> Refresh Devices
      </button>
    </div>

    <div class="ui segment">
      <table class="ui celled table">
        <thead>
          <tr>
            <th>Friendly Name</th>
            <th>Model</th>
            <th>Serial Number</th>
            <th>Presentation URL</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {{if .Devices}} {{range .Devices}}
          <tr>
            <td>{{.FriendlyName}}</td>
            <td>{{.ModelName}}</td>
            <td>{{.SerialNumber}}</td>
            <td>
              <a href="{{.PresentationURL}}" target="_blank" rel="noopener">
                {{.PresentationURL}}
              </a>
            </td>
            <td>
              <div class="ui buttons">
                <a
                  href="{{.PresentationURL}}"
                  target="_blank"
                  class="ui mini button"
                  >Open</a
                >
                <button class="ui mini button" data-serial="{{.SerialNumber}}">
                  Save
                </button>
              </div>
            </td>
          </tr>
          {{end}} {{else}}
          <tr>
            <td colspan="5" class="center aligned">
              <div class="ui warning message">
                No devices found. Click "Refresh Devices" to scan your network.
              </div>
            </td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </div>
  </div>
</div>
{{end}}
